"use strict";(self.webpackChunkPFVerasteguiQuispe=self.webpackChunkPFVerasteguiQuispe||[]).push([[8],{5008:(j,p,r)=>{r.r(p),r.d(p,{InscripcionModule:()=>R});var u=r(9808),d=r(8039),g=r(4035),l=r(2382),i=r(5e3),a=r(7116),m=r(3876),h=r(1493),I=r(4481),A=r(9019),_=r(520);let Z=(()=>{class o{constructor(n){this.httpClient=n,this.ApiCurso=A.N.baseUrl+"inscripcion/"}getAllInscripcionesByAlumno(n){return this.httpClient.get(this.ApiCurso+n)}GetCursosDisponibles(n){return this.httpClient.get(this.ApiCurso+"GetCursosDisponibles/"+n)}SearchCursosDisponibles(n,t){return this.httpClient.get(this.ApiCurso+"SearchCursosDisponibles/"+n+"/"+t)}getInscripcionByAlumnoAndCurso(n,t){return this.httpClient.get(this.ApiCurso+n+"/"+t)}EliminarInscripcion(n,t){return this.httpClient.delete(this.ApiCurso+n+"/"+t)}AgregarInscripcion(n){return this.httpClient.post(this.ApiCurso,n)}}return o.\u0275fac=function(n){return new(n||o)(i.LFG(_.eN))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=r(5889);function C(o,s){if(1&o&&(i.TgZ(0,"option",18),i._uU(1),i.qZA()),2&o){const n=s.$implicit;i.Q6J("value",n.idAlumno),i.xp6(1),i.hij(" ",n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno,"")}}function f(o,s){1&o&&(i.TgZ(0,"div",19),i._uU(1,"* Campo Obligatorio"),i.qZA())}function v(o,s){1&o&&(i.TgZ(0,"th"),i._uU(1,"Agregar"),i.qZA())}function T(o,s){if(1&o){const n=i.EpF();i.TgZ(0,"td")(1,"button",23),i.NdJ("click",function(){i.CHM(n);const e=i.oxw().$implicit;return i.oxw(2).AgregarInscripcion(e.idCurso)}),i._UZ(2,"span",24),i._uU(3," Agregar "),i.qZA()()}}function x(o,s){if(1&o&&(i.TgZ(0,"tr"),i.YNc(1,T,4,0,"td",21),i.TgZ(2,"td"),i._uU(3),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.TgZ(8,"td"),i._uU(9),i.ALo(10,"date"),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.ALo(13,"date"),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA(),i.TgZ(16,"td"),i._uU(17),i.qZA()()),2&o){const n=s.$implicit,t=i.oxw(2);i.xp6(1),i.Q6J("ngIf",t.ServLogin.IsAdmin),i.xp6(2),i.hij(" ",n.nombreCurso," "),i.xp6(2),i.hij(" ",n.profesor,""),i.xp6(2),i.hij(" ",n.horario,""),i.xp6(2),i.hij(" ",i.lcZ(10,8,n.fechaInicio),""),i.xp6(3),i.hij(" ",i.lcZ(13,10,n.fechaFin),""),i.xp6(3),i.hij(" ",n.horaInicio,""),i.xp6(2),i.hij(" ",n.horaFin,"")}}function U(o,s){if(1&o&&(i.TgZ(0,"table",20)(1,"thead")(2,"tr"),i.YNc(3,v,2,0,"th",21),i.TgZ(4,"th"),i._uU(5,"Curso"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Profesor"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Horario"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Fecha Inicio"),i.qZA(),i.TgZ(12,"th"),i._uU(13,"Fecha Fin"),i.qZA(),i.TgZ(14,"th"),i._uU(15,"Hora Inicio"),i.qZA(),i.TgZ(16,"th"),i._uU(17,"Hora Fin"),i.qZA()()(),i.TgZ(18,"tbody"),i.YNc(19,x,18,12,"tr",22),i.ALo(20,"async"),i.qZA()()),2&o){const n=i.oxw();i.xp6(3),i.Q6J("ngIf",n.ServLogin.IsAdmin),i.xp6(16),i.Q6J("ngForOf",i.lcZ(20,2,n.ObsCursos))}}function q(o,s){1&o&&(i.TgZ(0,"th"),i._uU(1,"Eliminar"),i.qZA())}function y(o,s){if(1&o){const n=i.EpF();i.TgZ(0,"td")(1,"button",23),i.NdJ("click",function(){i.CHM(n);const e=i.oxw().$implicit;return i.oxw(2).EliminarInscripcion(null==e.curso?null:e.curso.idCurso)}),i._UZ(2,"span",24),i._uU(3," Eliminar "),i.qZA()()}}function F(o,s){if(1&o&&(i.TgZ(0,"tr"),i.YNc(1,y,4,0,"td",21),i.TgZ(2,"td"),i._uU(3),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.TgZ(8,"td"),i._uU(9),i.ALo(10,"date"),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.ALo(13,"date"),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA(),i.TgZ(16,"td"),i._uU(17),i.qZA()()),2&o){const n=s.$implicit,t=i.oxw(2);i.xp6(1),i.Q6J("ngIf",t.ServLogin.IsAdmin),i.xp6(2),i.hij(" ",null==n.curso?null:n.curso.nombreCurso," "),i.xp6(2),i.hij(" ",null==n.curso?null:n.curso.profesor,""),i.xp6(2),i.hij(" ",null==n.curso?null:n.curso.horario,""),i.xp6(2),i.hij(" ",i.lcZ(10,8,null==n.curso?null:n.curso.fechaInicio),""),i.xp6(3),i.hij(" ",i.lcZ(13,10,null==n.curso?null:n.curso.fechaFin),""),i.xp6(3),i.hij(" ",null==n.curso?null:n.curso.horaInicio,""),i.xp6(2),i.hij(" ",null==n.curso?null:n.curso.horaFin,"")}}function M(o,s){if(1&o&&(i.TgZ(0,"table",20)(1,"thead")(2,"tr"),i.YNc(3,q,2,0,"th",21),i.TgZ(4,"th"),i._uU(5,"Curso"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Profesor"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Horario"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Fecha Inicio"),i.qZA(),i.TgZ(12,"th"),i._uU(13,"Fecha Fin"),i.qZA(),i.TgZ(14,"th"),i._uU(15,"Hora Inicio"),i.qZA(),i.TgZ(16,"th"),i._uU(17,"Hora Fin"),i.qZA()()(),i.TgZ(18,"tbody"),i.YNc(19,F,18,12,"tr",22),i.ALo(20,"async"),i.qZA()()),2&o){const n=i.oxw();i.xp6(3),i.Q6J("ngIf",n.ServLogin.IsAdmin),i.xp6(16),i.Q6J("ngForOf",i.lcZ(20,2,n.ObsInscripcion))}}const S=[{path:"",component:(()=>{class o{constructor(n,t,e,c,B,O,Y,k,J){this.fb=n,this.modalService=e,this.ServCurso=c,this.ServAlumno=B,this.ServLogin=O,this.ServInscripcion=Y,this.datePipe=k,this.swal=J,this.tituloModal="",this.NombreBuscar="",this.IdAlumnoIns=0,this.formulario=n.group({IdCurso:[0,[l.kI.required]],IdAlumno:[0,[l.kI.required,l.kI.min(1)]]}),t.backdrop="static",t.keyboard=!1}ngOnDestroy(){this.suscripcionEdit&&this.suscripcionEdit.unsubscribe(),this.suscripcionAdd&&this.suscripcionAdd.unsubscribe(),this.suscripcionDelete&&this.suscripcionDelete.unsubscribe(),this.suscripcionFiltro&&this.suscripcionFiltro.unsubscribe(),this.suscripcioTipoDoc&&this.suscripcioTipoDoc.unsubscribe()}changeInscripcionCursos(n){this.IdAlumnoIns=n,this.ObsCursos=this.ServInscripcion.GetCursosDisponibles(this.IdAlumnoIns),this.ObsInscripcion=this.ServInscripcion.getAllInscripcionesByAlumno(this.IdAlumnoIns)}open(n){this.modalService.open(n,{size:"lg"}),this.tituloModal="Registrar Inscripcion",this.formulario.reset()}LimpiarBusqueda(){this.NombreBuscar="",this.ObsCursos=this.ServInscripcion.GetCursosDisponibles(this.IdAlumnoIns),this.ObsInscripcion=this.ServInscripcion.getAllInscripcionesByAlumno(this.IdAlumnoIns)}ngOnInit(){this.ObsAlumnos=this.ServAlumno.getAllAlumnos()}EliminarInscripcion(n){this.swal.Question("Eliminar Inscripcion","\xbfDesea Eliminar el registro seleccionado?").then(t=>{t.isConfirmed&&(this.suscripcionDelete=this.ServInscripcion.EliminarInscripcion(this.IdAlumnoIns,null!=n?n:0).subscribe(e=>{this.LimpiarBusqueda()}))})}changeBuscar(n){this.NombreBuscar=n,this.ObsCursos=0==this.NombreBuscar.length?this.ServInscripcion.GetCursosDisponibles(this.IdAlumnoIns):this.ServInscripcion.SearchCursosDisponibles(this.IdAlumnoIns,this.NombreBuscar)}cerrar(){this.modalService.dismissAll()}AgregarInscripcion(n){this.IdAlumnoIns>0&&(this.suscripcionAdd=this.ServInscripcion.AgregarInscripcion({idCurso:n,idAlumno:this.IdAlumnoIns}).subscribe(e=>{this.LimpiarBusqueda(),this.swal.ToastSuccess("Se registro correctamente la Inscripcion.")},e=>{this.swal.ToastError("Ocurrio un error al procesar la solicitud.")}))}}return o.\u0275fac=function(n){return new(n||o)(i.Y36(l.qu),i.Y36(a.NM),i.Y36(a.FF),i.Y36(m.Y),i.Y36(h.X),i.Y36(I.r),i.Y36(Z),i.Y36(u.uU),i.Y36(b.J))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-registro-inscripcion"]],decls:29,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-6"],["for","cboAlumno",1,"form-label"],["id","cboAlumno",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback","style","display: block;",4,"ngIf"],["for","txtNombreBusqueda",1,"form-label"],["type","text","id","txtNombreBusqueda","placeholder","Ingrese Nombre Curso para la busqueda",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-lg","btn-outline-primary",2,"margin-top","25px","margin-bottom","30px",3,"click"],["expandAll","","activeIds","ab,ac"],["acc","ngbAccordion"],["title","Cursos Disponibles","id","ab"],["ngbPanelContent",""],["id","ac","title","Cursos Inscritos"],[3,"value"],[1,"invalid-feedback",2,"display","block"],[1,"table","table-striped","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-play"]],template:function(n,t){1&n&&(i.TgZ(0,"div",0)(1,"div",1),i._uU(2," Registro Inscripcion "),i.qZA(),i.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),i._uU(7,"Alumno"),i.qZA(),i.TgZ(8,"select",6),i.NdJ("ngModelChange",function(c){return t.changeInscripcionCursos(c)})("ngModelChange",function(c){return t.IdAlumnoIns=c}),i.TgZ(9,"option",7),i._uU(10,"Seleccione"),i.qZA(),i.YNc(11,C,2,2,"option",8),i.ALo(12,"async"),i.qZA(),i.YNc(13,f,2,0,"div",9),i.qZA(),i.TgZ(14,"div",4)(15,"label",10),i._uU(16,"Nombres Curso"),i.qZA(),i.TgZ(17,"input",11),i.NdJ("ngModelChange",function(c){return t.changeBuscar(c)})("ngModelChange",function(c){return t.NombreBuscar=c}),i.qZA()()(),i.TgZ(18,"div",3)(19,"div",4)(20,"button",12),i.NdJ("click",function(){return t.LimpiarBusqueda()}),i._uU(21,"Limpiar Busqueda"),i.qZA()()(),i.TgZ(22,"div",3)(23,"ngb-accordion",13,14)(25,"ngb-panel",15),i.YNc(26,U,21,4,"ng-template",16),i.qZA(),i.TgZ(27,"ngb-panel",17),i.YNc(28,M,21,4,"ng-template",16),i.qZA()()()()()),2&n&&(i.xp6(8),i.Q6J("ngModel",t.IdAlumnoIns)("ngClass",t.IdAlumnoIns<=0?"Invalid-Input":t.IdAlumnoIns>0?"Valid-Input":""),i.xp6(3),i.Q6J("ngForOf",i.lcZ(12,5,t.ObsAlumnos)),i.xp6(2),i.Q6J("ngIf",t.IdAlumnoIns<=0),i.xp6(4),i.Q6J("ngModel",t.NombreBuscar))},directives:[l.EJ,l.JJ,l.On,u.mk,l.YN,l.Kr,u.sg,u.O5,l.Fj,a.gY,a.Gk,a.gW],pipes:[u.Ov,u.uU],styles:[".Invalid-Input[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.Valid-Input[_ngcontent-%COMP%]{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[[u.ez,g.Bz.forChild(S)],g.Bz]}),o})(),R=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({providers:[u.uU],imports:[[u.ez,d.m,N]]}),o})()}}]);