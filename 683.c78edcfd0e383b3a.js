"use strict";(self.webpackChunkPFVerasteguiQuispe=self.webpackChunkPFVerasteguiQuispe||[]).push([[683],{7683:(P,A,s)=>{s.r(A),s.d(A,{FeatureCursoModule:()=>z});var c=s(9808),x=s(4035),u=s(2382),o=s(5e3),T=s(7116),F=s(4481),q=s(3876),U=s(5889);function N(i,e){1&i&&(o.TgZ(0,"th"),o._uU(1,"Eliminar"),o.qZA())}function y(i,e){1&i&&(o.TgZ(0,"th"),o._uU(1,"Editar"),o.qZA())}function J(i,e){if(1&i){const r=o.EpF();o.TgZ(0,"td")(1,"button",13),o.NdJ("click",function(){o.CHM(r);const n=o.oxw().$implicit;return o.oxw().EliminarCurso(n.idCurso)}),o._UZ(2,"span",14),o._uU(3," Eliminar "),o.qZA()()}}function V(i,e){if(1&i){const r=o.EpF();o.TgZ(0,"td")(1,"button",13),o.NdJ("click",function(){o.CHM(r);const n=o.oxw().$implicit,l=o.oxw(),a=o.MAs(39);return l.EditarCurso(n,a)}),o._UZ(2,"span",14),o._uU(3," Editar "),o.qZA()()}}function k(i,e){if(1&i&&(o.TgZ(0,"tr"),o.YNc(1,J,4,0,"td",10),o.YNc(2,V,4,0,"td",10),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.ALo(13,"date"),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.ALo(16,"date"),o.qZA(),o.TgZ(17,"td"),o._uU(18),o.qZA(),o.TgZ(19,"td"),o._uU(20),o.qZA()()),2&i){const r=e.$implicit,t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.ServLogin.IsAdmin),o.xp6(1),o.Q6J("ngIf",t.ServLogin.IsAdmin),o.xp6(2),o.hij(" ",r.nombreCurso," "),o.xp6(2),o.hij(" ",r.profesor,""),o.xp6(2),o.hij(" ",r.horasAcademicas,""),o.xp6(2),o.hij(" ",r.horario,""),o.xp6(2),o.hij(" ",o.lcZ(13,10,r.fechaInicio),""),o.xp6(3),o.hij(" ",o.lcZ(16,12,r.fechaFin),""),o.xp6(3),o.hij(" ",r.horaInicio,""),o.xp6(2),o.hij(" ",r.horaFin,"")}}function R(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function M(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function L(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function Q(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function O(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function S(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function D(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function w(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Campo Obligatorio"),o.qZA())}function B(i,e){1&i&&(o.TgZ(0,"div",42),o._uU(1,"* Es necesario completar todos los campos"),o.qZA())}function Y(i,e){if(1&i){const r=o.EpF();o.TgZ(0,"div",15)(1,"h4",16),o._uU(2),o.qZA(),o.TgZ(3,"button",17),o.NdJ("click",function(){return o.CHM(r).dismiss("Cross click")}),o.qZA()(),o.TgZ(4,"div",18)(5,"form",19),o.NdJ("ngSubmit",function(n){return o.CHM(r),o.oxw().submit(n)}),o._UZ(6,"input",20),o.TgZ(7,"div",6)(8,"div",7)(9,"label",21),o._uU(10,"Curso"),o.qZA(),o._UZ(11,"input",22),o.YNc(12,R,2,0,"div",23),o.qZA(),o.TgZ(13,"div",7)(14,"label",24),o._uU(15,"Profesor"),o.qZA(),o._UZ(16,"input",25),o.YNc(17,M,2,0,"div",23),o.qZA()(),o.TgZ(18,"div",6)(19,"div",26)(20,"label",27),o._uU(21,"Horas Academicas"),o.qZA(),o._UZ(22,"input",28),o.YNc(23,L,2,0,"div",23),o.qZA(),o.TgZ(24,"div",26)(25,"label",29),o._uU(26,"Horario"),o.qZA(),o._UZ(27,"input",30),o.YNc(28,Q,2,0,"div",23),o.qZA(),o.TgZ(29,"div",26)(30,"label",31),o._uU(31,"Fecha Inicio"),o.qZA(),o._UZ(32,"input",32),o.YNc(33,O,2,0,"div",23),o.qZA()(),o.TgZ(34,"div",6)(35,"div",26)(36,"label",33),o._uU(37,"Fecha Fin"),o.qZA(),o._UZ(38,"input",34),o.YNc(39,S,2,0,"div",23),o.qZA(),o.TgZ(40,"div",26)(41,"label",35),o._uU(42,"Hora Inicio"),o.qZA(),o._UZ(43,"input",36),o.YNc(44,D,2,0,"div",23),o.qZA(),o.TgZ(45,"div",26)(46,"label",37),o._uU(47,"Hora Fin"),o.qZA(),o._UZ(48,"input",38),o.YNc(49,w,2,0,"div",23),o.qZA()(),o.TgZ(50,"div",39)(51,"button",40),o._uU(52,"Guardar"),o.qZA(),o.YNc(53,B,2,0,"div",41),o.qZA()()()}if(2&i){const r=o.oxw();let t,n,l,a,m,d,h,C,p,v,g,I,f,b,_,Z;o.xp6(2),o.Oqu(r.tituloModal),o.xp6(3),o.Q6J("formGroup",r.formulario),o.xp6(6),o.Q6J("ngClass","INVALID"==(null==(t=r.formulario.get("nombreCurso"))?null:t.status)&&1==(null==(t=r.formulario.get("nombreCurso"))?null:t.touched)?"Invalid-Input":"VALID"==(null==(t=r.formulario.get("nombreCurso"))?null:t.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(n=r.formulario.get("nombreCurso"))||null==n.errors?null:n.errors.required)&&1==(null==(n=r.formulario.get("nombreCurso"))?null:n.touched)),o.xp6(4),o.Q6J("ngClass","INVALID"==(null==(l=r.formulario.get("profesor"))?null:l.status)&&1==(null==(l=r.formulario.get("profesor"))?null:l.touched)?"Invalid-Input":"VALID"==(null==(l=r.formulario.get("profesor"))?null:l.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(a=r.formulario.get("profesor"))||null==a.errors?null:a.errors.required)&&1==(null==(a=r.formulario.get("profesor"))?null:a.touched)),o.xp6(5),o.Q6J("ngClass","INVALID"==(null==(m=r.formulario.get("horasAcademicas"))?null:m.status)&&1==(null==(m=r.formulario.get("horasAcademicas"))?null:m.touched)?"Invalid-Input":"VALID"==(null==(m=r.formulario.get("horasAcademicas"))?null:m.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(d=r.formulario.get("horasAcademicas"))||null==d.errors?null:d.errors.required)&&1==(null==(d=r.formulario.get("horasAcademicas"))?null:d.touched)),o.xp6(4),o.Q6J("ngClass","INVALID"==(null==(h=r.formulario.get("horario"))?null:h.status)&&1==(null==(h=r.formulario.get("horario"))?null:h.touched)?"Invalid-Input":"VALID"==(null==(h=r.formulario.get("horario"))?null:h.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(C=r.formulario.get("horario"))||null==C.errors?null:C.errors.required)&&1==(null==(C=r.formulario.get("horario"))?null:C.touched)),o.xp6(4),o.Q6J("ngClass","INVALID"==(null==(p=r.formulario.get("fechaInicio"))?null:p.status)&&1==(null==(p=r.formulario.get("fechaInicio"))?null:p.touched)?"Invalid-Input":"VALID"==(null==(p=r.formulario.get("fechaInicio"))?null:p.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(v=r.formulario.get("fechaInicio"))||null==v.errors?null:v.errors.required)&&1==(null==(v=r.formulario.get("fechaInicio"))?null:v.touched)),o.xp6(5),o.Q6J("ngClass","INVALID"==(null==(g=r.formulario.get("fechaFin"))?null:g.status)&&1==(null==(g=r.formulario.get("fechaFin"))?null:g.touched)?"Invalid-Input":"VALID"==(null==(g=r.formulario.get("fechaFin"))?null:g.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(I=r.formulario.get("fechaFin"))||null==I.errors?null:I.errors.required)&&1==(null==(I=r.formulario.get("fechaFin"))?null:I.touched)),o.xp6(4),o.Q6J("ngClass","INVALID"==(null==(f=r.formulario.get("horaInicio"))?null:f.status)&&1==(null==(f=r.formulario.get("horaInicio"))?null:f.touched)?"Invalid-Input":"VALID"==(null==(f=r.formulario.get("horaInicio"))?null:f.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(b=r.formulario.get("horaInicio"))||null==b.errors?null:b.errors.required)&&1==(null==(b=r.formulario.get("horaInicio"))?null:b.touched)),o.xp6(4),o.Q6J("ngClass","INVALID"==(null==(_=r.formulario.get("horaFin"))?null:_.status)&&1==(null==(_=r.formulario.get("horaFin"))?null:_.touched)?"Invalid-Input":"VALID"==(null==(_=r.formulario.get("horaFin"))?null:_.status)?"Valid-Input":""),o.xp6(1),o.Q6J("ngIf",(null==(Z=r.formulario.get("horaFin"))||null==Z.errors?null:Z.errors.required)&&1==(null==(Z=r.formulario.get("horaFin"))?null:Z.touched)),o.xp6(2),o.Q6J("disabled",!r.formulario.valid),o.xp6(2),o.Q6J("ngIf",!r.formulario.valid)}}const E=[{path:"",component:(()=>{class i{constructor(r,t,n,l,a,m,d){this.fb=r,this.modalService=n,this.ServLogin=l,this.ServCurso=a,this.datePipe=m,this.swal=d,this.tituloModal="",this.NombreBuscar="",this.formulario=r.group({IdCurso:[0],nombreCurso:["",[u.kI.required]],profesor:["",[u.kI.required]],horasAcademicas:[0,[u.kI.required]],horario:["",[u.kI.required]],fechaInicio:["",[u.kI.required]],fechaFin:["",[u.kI.required]],horaInicio:["",[u.kI.required]],horaFin:["",[u.kI.required]]}),t.backdrop="static",t.keyboard=!1}ngOnDestroy(){this.suscripcionEdit&&this.suscripcionEdit.unsubscribe(),this.suscripcionAdd&&this.suscripcionAdd.unsubscribe(),this.suscripcionDelete&&this.suscripcionDelete.unsubscribe(),this.suscripcionFiltro&&this.suscripcionFiltro.unsubscribe(),this.suscripcioTipoDoc&&this.suscripcioTipoDoc.unsubscribe()}ngOnInit(){this.ObsCursos=this.ServCurso.getAllCursos()}open(r){this.modalService.open(r,{size:"lg"}),this.tituloModal="Registrar Alumno",this.formulario.reset()}LimpiarBusqueda(){this.NombreBuscar="",this.ngOnInit()}FiltrarCurso(){this.ObsCursos=this.ServCurso.BuscarCurso(this.NombreBuscar)}EliminarCurso(r){this.swal.Question("Eliminar Registro","\xbfDesea Eliminar el registro seleccionado?").then(t=>{t.isConfirmed&&(this.suscripcionDelete=this.ServCurso.EliminarCurso(null!=r?r:0).subscribe(n=>{this.LimpiarBusqueda()}))})}changeBuscar(r){this.NombreBuscar=r,0==this.NombreBuscar.length?this.ngOnInit():this.FiltrarCurso()}cerrar(){this.modalService.dismissAll()}submit(r){var t;if(this.formulario.valid){let n=null!==(t=this.formulario.value.IdCurso)&&void 0!==t?t:0;0==n?this.suscripcionAdd=this.ServCurso.AgregarCurso({idCurso:0,nombreCurso:this.formulario.value.nombreCurso,profesor:this.formulario.value.profesor,horario:this.formulario.value.horario,horasAcademicas:this.formulario.value.horasAcademicas,fechaInicio:this.formulario.value.fechaInicio,fechaFin:this.formulario.value.fechaFin,horaInicio:this.formulario.value.horaInicio.length<=5?this.formulario.value.horaInicio+":00":this.formulario.value.horaInicio,horaFin:this.formulario.value.horaFin.length<=5?this.formulario.value.horaFin+":00":this.formulario.value.horaFin}).subscribe(a=>{this.formulario.reset(),this.modalService.dismissAll(),this.LimpiarBusqueda(),this.swal.ToastSuccess("Se registro correctamente el Curso.")},a=>{this.swal.ToastError("Ocurrio un error al procesar la solicitud.")}):this.suscripcionEdit=this.ServCurso.EditarCurso({idCurso:n,nombreCurso:this.formulario.value.nombreCurso,profesor:this.formulario.value.profesor,horario:this.formulario.value.horario,horasAcademicas:this.formulario.value.horasAcademicas,fechaInicio:this.formulario.value.fechaInicio,fechaFin:this.formulario.value.fechaFin,horaInicio:this.formulario.value.horaInicio.length<=5?this.formulario.value.horaInicio+":00":this.formulario.value.horaInicio,horaFin:this.formulario.value.horaFin.length<=5?this.formulario.value.horaFin+":00":this.formulario.value.horaFin}).subscribe(a=>{this.formulario.reset(),this.modalService.dismissAll(),this.LimpiarBusqueda(),this.swal.ToastSuccess("Se actualizo correctamente el Curso.")},a=>{this.swal.ToastError("Ocurrio un error al procesar la solicitud.")})}}EditarCurso(r,t){null!=r&&null!=r&&(this.formulario.controls.IdCurso.setValue(r.idCurso),this.formulario.controls.nombreCurso.setValue(r.nombreCurso),this.formulario.controls.profesor.setValue(r.profesor),this.formulario.controls.horasAcademicas.setValue(r.horasAcademicas),this.formulario.controls.horario.setValue(r.horario),this.formulario.controls.fechaInicio.setValue(this.datePipe.transform(new Date(r.fechaInicio),"yyyy-MM-dd")),this.formulario.controls.fechaFin.setValue(this.datePipe.transform(new Date(r.fechaFin),"yyyy-MM-dd")),this.formulario.controls.horaInicio.setValue(r.horaInicio),this.formulario.controls.horaFin.setValue(r.horaFin),this.tituloModal="Actualizar Registro de Curso",this.modalService.open(t,{size:"lg"}))}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(u.qu),o.Y36(T.NM),o.Y36(T.FF),o.Y36(F.r),o.Y36(q.Y),o.Y36(c.uU),o.Y36(U.J))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-registro-curso"]],decls:40,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"mb-3"],["for","txtNombreBusqueda",1,"form-label"],["type","text","id","txtNombreBusqueda","placeholder","Ingrese Nombre Curso para la busqueda",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-md-6"],[1,"btn","btn-lg","btn-outline-primary",2,"margin-left","25px",3,"click"],[1,"table","table-striped","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["content",""],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-play"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["action","#",1,"",3,"formGroup","ngSubmit"],["type","hidden","name","IdCurso","formControlName","IdCurso"],["for","txtNombreCurso",1,"form-label"],["type","text","id","txtNombreCurso","formControlName","nombreCurso","placeholder","Ingrese el Curso",1,"form-control",3,"ngClass"],["class","invalid-feedback","style","display: block;",4,"ngIf"],["for","txtProfesor",1,"form-label"],["type","text","id","txtProfesor","formControlName","profesor","placeholder","Profesor",1,"form-control",3,"ngClass"],[1,"col-md-4"],["for","txtHoras",1,"form-label"],["type","number","id","txtHoras","placeholder","Horas Academicas","formControlName","horasAcademicas",1,"form-control",3,"ngClass"],["for","txtHorario",1,"form-label"],["type","text","id","txtHorario","placeholder","Horario","formControlName","horario",1,"form-control",3,"ngClass"],["for","txtFecIni",1,"form-label"],["type","date","id","txtFecIni","placeholder","Fecha Inicio","formControlName","fechaInicio",1,"form-control",3,"ngClass"],["for","txtFecFin",1,"form-label"],["type","date","id","txtFecFin","placeholder","Fecha Fin","formControlName","fechaFin",1,"form-control",3,"ngClass"],["for","horaInicio",1,"form-label"],["type","time","id","horaInicio","placeholder","Hora Inicio","formControlName","horaInicio",1,"form-control",3,"ngClass"],["for","horaFin",1,"form-label"],["type","time","id","horaFin","placeholder","Hora Fin","formControlName","horaFin",1,"form-control",3,"ngClass"],[1,"col-md-12",2,"text-align","center","padding-top","30px"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","display: block;","class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback",2,"display","block"]],template:function(r,t){if(1&r){const n=o.EpF();o.TgZ(0,"div",0)(1,"div",1),o._uU(2," Registro Curso "),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"label",4),o._uU(6,"Nombres Curso"),o.qZA(),o.TgZ(7,"input",5),o.NdJ("ngModelChange",function(a){return t.changeBuscar(a)})("ngModelChange",function(a){return t.NombreBuscar=a}),o.qZA()(),o.TgZ(8,"div",6)(9,"div",7)(10,"button",8),o.NdJ("click",function(){o.CHM(n);const a=o.MAs(39);return t.open(a)}),o._uU(11,"Nuevo"),o.qZA(),o.TgZ(12,"button",8),o.NdJ("click",function(){return t.LimpiarBusqueda()}),o._uU(13,"Limpiar Busqueda"),o.qZA()()(),o.TgZ(14,"table",9)(15,"thead")(16,"tr"),o.YNc(17,N,2,0,"th",10),o.YNc(18,y,2,0,"th",10),o.TgZ(19,"th"),o._uU(20,"Curso"),o.qZA(),o.TgZ(21,"th"),o._uU(22,"Profesor"),o.qZA(),o.TgZ(23,"th"),o._uU(24,"Horas Academicas"),o.qZA(),o.TgZ(25,"th"),o._uU(26,"Horario"),o.qZA(),o.TgZ(27,"th"),o._uU(28,"Fecha Inicio"),o.qZA(),o.TgZ(29,"th"),o._uU(30,"Fecha Fin"),o.qZA(),o.TgZ(31,"th"),o._uU(32,"Hora Inicio"),o.qZA(),o.TgZ(33,"th"),o._uU(34,"Hora Fin"),o.qZA()()(),o.TgZ(35,"tbody"),o.YNc(36,k,21,14,"tr",11),o.ALo(37,"async"),o.qZA()()()(),o.YNc(38,Y,54,20,"ng-template",null,12,o.W1O)}2&r&&(o.xp6(7),o.Q6J("ngModel",t.NombreBuscar),o.xp6(10),o.Q6J("ngIf",t.ServLogin.IsAdmin),o.xp6(1),o.Q6J("ngIf",t.ServLogin.IsAdmin),o.xp6(18),o.Q6J("ngForOf",o.lcZ(37,4,t.ObsCursos)))},directives:[u.Fj,u.JJ,u.On,c.O5,c.sg,u._Y,u.JL,u.sg,u.u,c.mk,u.wV],pipes:[c.Ov,c.uU],styles:[".Invalid-Input[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.Valid-Input[_ngcontent-%COMP%]{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}"]}),i})()}];let H=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[c.ez,x.Bz.forChild(E)],x.Bz]}),i})();var j=s(8039);let z=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[c.uU],imports:[[c.ez,j.m,H]]}),i})()}}]);